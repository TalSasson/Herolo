(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/bg.e7be0b47.jpeg"},125:function(e,t,a){e.exports=a(207)},130:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),c=a.n(i),o=(a(130),a(18)),s=a(118),l=a(251),m=a(41),p=a(37),u=a(6),d="http://dataservice.accuweather.com",b="https://developer.accuweather.com/sites/default/files",f="Sorry, unable to fetch data",v={home:"/home",favorites:"/favorites"},h=a(5),y=a(244),g=a(246),x=a(247),w=a(40),j=a(248),O=a(108),E=a.n(O),k=a(107),C=a.n(k),N=a(17),S=a(243),I="Herolo weather task";var W=Object(N.b)(p.g,Object(o.b)((function(e){return{currentPage:e.currentPage}})),Object(u.a)((function(e){var t;return{title:(t={flexGrow:1},Object(h.a)(t,e.breakpoints.down("sm"),{fontSize:13}),Object(h.a)(t,e.breakpoints.between("sm","md"),{fontSize:20}),t),headerBtnsWrapper:{display:"flex"},link:{textDecoration:"none","& > svg":{fill:"white",marginLeft:15}},visible:{display:"block"},hide:{display:"none"}}})))((function(e){var t=e.classes,a=e.location.pathname,n=Object(w.a)(),i=Object(S.a)(n.breakpoints.down("xs"));return r.a.createElement(y.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"h6",className:t.title},I),r.a.createElement("div",{className:t.headerBtnsWrapper},r.a.createElement(m.b,{to:v.home,className:t.link},r.a.createElement(j.a,{color:a===v.home?"secondary":"",variant:"text",className:"".concat(i?t.hide:t.visible)},"Home"),r.a.createElement(C.a,{className:"".concat(i?t.visible:t.hide)})),r.a.createElement(m.b,{to:v.favorites,className:t.link},r.a.createElement(j.a,{color:a===v.favorites?"secondary":"",variant:"text",className:"".concat(i?t.hide:t.visible)},"Favorites"),r.a.createElement(E.a,{className:"".concat(i?t.visible:t.hide)})))))})),D=a(14),T=a.n(D),z=a(26),F=a(250),A=a(114),B=a.n(A);var M,_=Object(N.b)(Object(o.b)((function(e){return{city:e.city,cityDetails:e.cityDetails}})),Object(u.a)((function(e){var t,a;return{currWeatherWrapper:{display:"flex",flexDirection:"column",userSelect:"none",flexGrow:1,color:"white",alignItems:"end",margin:"0 50px",fontWeight:"lighter"},imgWrapper:{border:"1px solid",width:60,height:60,margin:"0 25px",display:"flex",justifyContent:"center",alignItems:"center"},img:{width:"100%"},description:{fontSize:30},cityName:(t={fontSize:50},Object(h.a)(t,e.breakpoints.down("sm"),{fontSize:37}),Object(h.a)(t,e.breakpoints.between("sm","md"),{fontSize:50}),t),tempIconWrapper:{display:"flex",alignItems:"center",fontWeight:"lighter",marginTop:20},degree:(a={fontSize:85},Object(h.a)(a,e.breakpoints.down("sm"),{fontSize:65}),Object(h.a)(a,e.breakpoints.between("sm","md"),{fontSize:85}),a)}})))((function(e){var t=e.classes,a=e.city,n=a.label,i=a.country,c=(e.cityDetails||{}).currWeatherInfo||{},o=c.temp,s=c.description,l=c.img;return r.a.createElement("div",{className:t.currWeatherWrapper},r.a.createElement("div",{className:t.cityName},"".concat(n,", ").concat(i)),r.a.createElement("div",{className:t.description},s),r.a.createElement("div",{className:t.tempIconWrapper},l&&r.a.createElement("img",{src:l,alt:"weather icon",className:t.img}),r.a.createElement("div",{className:t.degree},Math.round(o),"\xb0")))})),H=a(66),P=a(252),L=a(254),R=a(21),U={setCity:"SET_CITY",setCityDetails:"SET_CITY_DETAILS",setFavoriteCities:"SET_FAVORITE_CITIES",removeFavoriteCity:"REMOVE_FAVORITE_CITY",updateFavorites:"UPDATE_FAVORITES"},V=a(111),Z=a.n(V),J=a(253),Y=localStorage.getItem("favorites"),G=Z()({currentPage:"home",city:{label:"Tel Aviv",key:"215854",country:"Israel"}||{},cityDetails:{currWeatherInfo:{},forecast:[]},favoriteCities:JSON.parse(Y)||[]}),K=Object(J.a)((M={},Object(h.a)(M,U.setCurrentPage,(function(e,t){var a=t.value;return e.setIn(["currentPage"],a)})),Object(h.a)(M,U.setCity,(function(e,t){var a=t.value;return e.setIn(["city"],a)})),Object(h.a)(M,U.setCityDetails,(function(e,t){var a=t.key,n=t.value;return e.setIn(["cityDetails",a],n)})),Object(h.a)(M,U.updateFavorites,(function(e,t){var a=t.favorites;return e.set("favoriteCities",a)})),M),G),X=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.b)(),q=Object(N.c)(K,X),$=function(e){return{type:U.setCity,value:e}},Q=function(e){var t=q.getState().favoriteCities.filter((function(t){return t.key!==e}));return localStorage.setItem("favorites",JSON.stringify(t)),{type:U.updateFavorites,favorites:t}},ee=function(e,t){return{type:U.setCityDetails,key:e,value:t}},te=a(45),ae=a.n(te);function ne(e){var t,a,n,r,i,c,o;return T.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,T.a.awrap(fetch("".concat(d,"/currentconditions/v1/").concat(e,"?apikey=UAgHWpoNWpWZ8dZDh0yoyBUldjHfkzvK")));case 2:return t=s.sent,s.next=5,T.a.awrap(t.json());case 5:return a=s.sent,n=a[0]||[],r=n.WeatherText,i=n.Temperature,c=n.WeatherIcon,o="".concat(b,"/").concat(c.toString().padStart(2,"0"),"-s.png"),s.abrupt("return",{temp:ae()(i,["Metric","Value"],""),description:r,img:o});case 9:case"end":return s.stop()}}))}function re(e){var t;return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.a.awrap(ne(e));case 2:t=a.sent,q.dispatch(ee("currWeatherInfo",t));case 4:case"end":return a.stop()}}))}function ie(e){var t,a;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.awrap(fetch("".concat(d,"/locations/v1/cities/autocomplete?apikey=UAgHWpoNWpWZ8dZDh0yoyBUldjHfkzvK&q=").concat(e)));case 2:return t=n.sent,n.next=5,T.a.awrap(t.json());case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}))}function ce(e){var t,a,n;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.awrap(fetch("".concat(d,"/forecasts/v1/daily/5day/").concat(e,"?apikey=UAgHWpoNWpWZ8dZDh0yoyBUldjHfkzvK&metric=true")));case 2:return t=r.sent,r.next=5,T.a.awrap(t.json());case 5:return a=r.sent,n=(a||{}).DailyForecasts,r.abrupt("return",n.map((function(e){return{date:e.Date,temp:{min:ae()(e.Temperature,["Minimum","Value"],""),max:ae()(e.Temperature,["Maximum","Value"],"")},dayTemp:{icon:ae()(e.Day,["Icon"],""),text:ae()(e.Day,["IconPhrase"],"")}}})));case 8:case"end":return r.stop()}}))}function oe(e){var t;return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.a.awrap(ce(e));case 2:t=a.sent,q.dispatch(ee("forecast",t));case 4:case"end":return a.stop()}}))}var se=Object(N.b)(Object(o.b)(null,{setCity:$,setCityDetails:ee}),Object(u.a)((function(e){var t;return{autoComplete:(t={width:300,margin:"30px auto"},Object(h.a)(t,e.breakpoints.down("sm"),{width:220}),Object(h.a)(t,e.breakpoints.between("sm","md"),{width:300}),t),textfield:{color:"white",background:"rgba(0,0,0,0.35)","& fieldset, &:hover fieldset":{borderColor:"white !important"}},clearIndicator:{color:"white"},invisble:{display:"none"}}})))((function(e){var t=e.classes,a=Object(n.useState)(!1),i=Object(z.a)(a,2),c=i[0],o=i[1],s=Object(n.useState)([]),l=Object(z.a)(s,2),m=l[0],p=l[1],u=Object(n.useState)(!1),d=Object(z.a)(u,2),b=(d[0],d[1]),v=Object(n.useState)(""),h=Object(z.a)(v,2),y=(h[0],h[1]),g=c&&0===m.length;return Object(n.useEffect)((function(){c||p([])}),[c]),r.a.createElement(L.a,{className:t.autoComplete,open:c,onClose:function(){o(!1)},onChange:function(t,a){a&&e.setCity(a||{})},onInputChange:function(e,t){var a;return T.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<2&&c)){e.next=2;break}return e.abrupt("return",o(!1));case 2:return c||o(!0),e.prev=3,e.next=6,T.a.awrap(ie(t));case 6:a=e.sent,b(!1),y(a),p(a.map((function(e){return{label:e.LocalizedName,key:e.Key,country:e.Country.LocalizedName}}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),b(!0);case 15:case"end":return e.stop()}}),null,null,[[3,12]])},getOptionLabel:function(e){return e.label},options:m,loading:g,classes:{popupIndicator:t.invisble,clearIndicator:t.clearIndicator},renderInput:function(e){return r.a.createElement(P.a,Object.assign({},e,{placeholder:"Search city",fullWidth:!0,variant:"outlined",helperText:f||" ",InputProps:Object(H.a)({},e.InputProps,{classes:{root:t.textfield},endAdornment:r.a.createElement(r.a.Fragment,null,g?r.a.createElement(F.a,{color:"primary",size:20}):null,e.InputProps.endAdornment)})}))}})})),le=a(113),me=a.n(le);var pe=Object(N.b)(Object(o.b)((function(e){return{chosenCityDetails:e.chosenCityDetails}})),Object(u.a)((function(e){var t,a;return{cardWrapper:(t={display:"flex",flexWrap:"wrap",boxSizing:"border-box",flexDirection:"column",alignItems:"center",color:"#9b9b9b"},Object(h.a)(t,e.breakpoints.down("sm"),{margin:"0 5px"}),Object(h.a)(t,e.breakpoints.between("sm","md"),{margin:"0 16px",fontSize:16}),Object(h.a)(t,e.breakpoints.up("md"),{margin:"0 30px",fontSize:20}),t),dayName:{color:"black"},icon:(a={},Object(h.a)(a,e.breakpoints.down("sm"),{width:60}),Object(h.a)(a,e.breakpoints.up("sm"),{width:100}),Object(h.a)(a,"margin","12px 0"),a),bold:{fontWeight:"bold"},minTemp:{fontWeight:"bold"}}})))((function(e){var t=e.classes,a=e.dayDetails,n=e.currDay,i=a.temp,c=a.dayTemp,o=a.date,s=i.min,l=i.max;return r.a.createElement("div",{className:t.cardWrapper},r.a.createElement("div",{className:"".concat(t.dayName," ").concat(n?t.bold:"")},new Date(o).toString().split(" ")[0]),r.a.createElement("img",{src:"".concat(b,"/").concat(c.icon.toString().padStart(2,"0"),"-s.png"),alt:"daily weather icon",className:t.icon}),r.a.createElement("div",null,r.a.createElement("span",{className:t.minTemp},Math.round(s),"\xb0")," /"," ",Math.round(l),"\xb0"))}));var ue=Object(N.b)(Object(o.b)((function(e){return{cityDetails:e.cityDetails}})),Object(u.a)((function(e){var t;return{container:(t={width:"100%",display:"flex",flexWrap:"wrap",boxSizing:"border-box",minHeight:200,maxHeight:200},Object(h.a)(t,e.breakpoints.down("sm"),{minHeight:185,maxHeight:185}),Object(h.a)(t,e.breakpoints.between("sm","md"),{minHeight:200,maxHeight:200}),t),cards:Object(h.a)({display:"flex",flexWrap:"wrap",flexGrow:1,zIndex:1,justifyContent:"center",height:"100%"},e.breakpoints.down("sm"),{fontSize:14}),bgWave:{width:"100%",height:300,position:"absolute",bottom:0,transform:"rotate(180deg)",fill:"white",filter:"drop-shadow(0 1px 10px #00000055)"},bgWaveBehind:{transform:"rotate(180deg) scaleX(-1)",fill:e.palette.primary.main}}})))((function(e){var t=e.classes,a=e.cityDetails;return r.a.createElement("div",{className:t.container},r.a.createElement("svg",{className:"".concat(t.bgWave," ").concat(t.bgWaveBehind),viewBox:"0 0 500 165",preserveAspectRatio:"xMaxYMax slice"},r.a.createElement("path",{className:"back",d:"M0,120 C250,250 300,0 560,180 L500,00 L0,0 Z"})),r.a.createElement("svg",{className:t.bgWave,viewBox:"0 0 500 165",preserveAspectRatio:"xMaxYMax slice"},r.a.createElement("path",{className:"back",d:"M0,120 C250,250 300,0 960,180 L500,00 L0,0 Z"})),r.a.createElement("div",{className:t.cards},a.forecast.map((function(e,t){return r.a.createElement(pe,{dayDetails:e,key:me.a.v4(),currDay:!t})}))))}));var de=Object(N.b)(Object(o.b)((function(e){return{city:e.city,favoriteCities:e.favoriteCities}}),{setCityDetails:ee,setFavoriteCities:function(e){var t=q.getState().favoriteCities,a=[].concat(Object(R.a)(t),[e]);return localStorage.setItem("favorites",JSON.stringify(a)),{type:U.updateFavorites,favorites:a}},removeFavoriteCity:Q}),Object(u.a)((function(e){var t;return{homePageContainer:{display:"flex",flexDirection:"column",height:"100%",overflow:"auto",position:"relative"},weatherDetailsContainer:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",flexGrow:1},loader:{alignItems:"center"},errorWrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white"},tryAgainBtn:{marginTop:10,border:"2px solid ".concat(e.palette.primary.main),padding:"5px 15px",borderRadius:5,cursor:"pointer"},heartImg:(t={position:"absolute",fill:"white",right:0,margin:50,width:35,height:35,cursor:"pointer","&:hover":{fill:"red"}},Object(h.a)(t,e.breakpoints.down("sm"),{margin:"42px 20px"}),Object(h.a)(t,e.breakpoints.between("sm","md"),{margin:50}),t),chosenCity:{fill:"red"}}})))((function(e){var t=e.classes,a=e.city,i=a.key,c=void 0===i?"":i,o=a.label,s=e.favoriteCities,l=Object(n.useState)(!1),m=Object(z.a)(l,2),p=m[0],u=m[1],d=Object(n.useState)(""),b=Object(z.a)(d,2),v=b[0],h=b[1];function y(){c&&T.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,T.a.awrap(ie(o));case 4:return e.next=6,T.a.awrap(re(c));case 6:return e.next=8,T.a.awrap(oe(c));case 8:h(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),h(!0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}}),null,null,[[0,11,14,17]])}Object(n.useEffect)(y,[c]);var g=!!s.find((function(t){return t.key===e.city.key}));return r.a.createElement("div",{className:t.homePageContainer},r.a.createElement(B.a,{className:"".concat(t.heartImg," ").concat(g?t.chosenCity:""),onClick:function(){g?e.removeFavoriteCity(c):e.setFavoriteCities(e.city)}}),r.a.createElement(se,null),r.a.createElement("div",{className:"".concat(t.weatherDetailsContainer," ").concat(p?t.loader:""),elevation:3},p?r.a.createElement(F.a,{className:t.progress}):v?r.a.createElement("div",{className:t.errorWrapper},r.a.createElement("div",null,f),r.a.createElement("div",{onClick:y,className:t.tryAgainBtn,tabIndex:0,role:"button"},"Try again")):[r.a.createElement(_,{key:"currentWeather"}),r.a.createElement(ue,{key:"forecast"})]))})),be=a(115),fe=a.n(be),ve=a(208);var he=Object(N.b)(Object(o.b)((function(e){return{favoriteCities:e.favoriteCities,cityDetails:e.cityDetails}}),{setCity:$,removeFavoriteCity:Q}),Object(u.a)((function(e){return{favoritesWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:32},city:{display:"flex",width:"100%",justifyContent:"space-between",padding:"10px 20px",boxSizing:"border-box",alignItems:"center",cursor:"pointer",background:"rgba(0,0,0,0.4)",borderRadius:10,boxShadow:"0 6px 4px rgba(0,0,0,0.5)",border:"1px solid white",color:"white"},cityName:Object(h.a)({fontSize:30},e.breakpoints.down("sm"),{fontSize:17}),detailsWrapper:{display:"flex"},img:Object(h.a)({margin:20},e.breakpoints.down("sm"),{margin:"10px 0"}),tempDesWrapper:Object(h.a)({display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",width:90},e.breakpoints.down("sm"),{justifyContent:"center",width:70}),description:Object(h.a)({},e.breakpoints.down("sm"),{fontSize:12}),temp:{fontSize:30},favCityContainer:{display:"flex",alignItems:"center",width:"100%",margin:"20px 0"},removeIcon:{display:"flex",marginTop:4,marginLeft:15,background:"transparent",height:"100%",cursor:"pointer","&:hover":{opacity:.8},"& > svg":{fill:"white",padding:3}},errorWrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"white"},tryAgainBtn:{border:"2px solid #29aec8",cursor:"pointer",padding:"5px 15px",marginTop:10,borderRadius:5}}})))((function(e){var t=e.classes,a=e.favoriteCities,i=void 0===a?[]:a,c=Object(n.useState)(!0),o=Object(z.a)(c,2),s=o[0],l=o[1],m=Object(n.useState)(!1),p=Object(z.a)(m,2),u=p[0],d=p[1],b=Object(n.useState)({}),y=Object(z.a)(b,2),g=y[0],x=y[1];function w(){!function(){var e,t;T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(!0),a.next=4,T.a.awrap(Promise.all(i.map((function(e){return ne(e.key)}))));case 4:if(e=a.sent,t=e.reduce((function(e,t,a){return Object(H.a)({},e,Object(h.a)({},i[a].key,t))}),{}),Object.keys(t).length){a.next=8;break}throw new Error;case 8:x(t),d(!1),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),d(!0);case 15:return a.prev=15,l(!1),a.finish(15);case 18:case"end":return a.stop()}}),null,null,[[0,12,15,18]])}()}function j(){return i.map((function(a){return r.a.createElement("div",{key:a.key,className:t.favCityContainer},r.a.createElement("div",{className:t.city,role:"button",tabIndex:0,onClick:function(){return function(t){e.setCity(t),e.history.push(v.home)}(a)}},r.a.createElement("div",{className:t.cityName},a.label),r.a.createElement("div",{className:t.detailsWrapper},g[a.key].img&&r.a.createElement("img",{src:g[a.key].img,alt:"weather icon",className:t.img}),r.a.createElement("div",{className:t.tempDesWrapper},r.a.createElement("div",{className:t.temp},Math.round(g[a.key].temp),"\xb0"),r.a.createElement("div",{className:t.description},g[a.key].description)))),(n=a.key,r.a.createElement(ve.a,{elevation:3,className:t.removeIcon,onClick:function(){e.removeFavoriteCity(n)}},r.a.createElement(fe.a,null))));var n}))}return Object(n.useState)(w,[i]),r.a.createElement("div",{className:t.favoritesWrapper},s?r.a.createElement(F.a,{className:t.progress}):u?r.a.createElement("div",{className:t.errorWrapper},r.a.createElement("div",null,f),r.a.createElement("div",{onClick:w,className:t.tryAgainBtn,tabIndex:0,role:"button"},"Try again")):j())})),ye=a(116),ge={weatherContainer:{display:"flex",flexDirection:"column",height:"100vh",background:"linear-gradient(0deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.3)), url(".concat(a.n(ye).a,")"),backgroundSize:"cover"}};var xe=Object(u.a)(ge)((function(e){var t=e.classes;return r.a.createElement("div",{className:t.weatherContainer},r.a.createElement(W,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exect:!0,path:v.home,component:de}),r.a.createElement(p.b,{exect:!0,path:v.favorites,component:he}),r.a.createElement(p.b,{path:"/",render:function(){return r.a.createElement(p.a,{to:"/home"})}})))})),we=a(117),je=Object(we.createMuiTheme)({palette:{primary:{main:"#29aec8"},secondary:{main:"#FBEEC1"}}}),Oe=Object(s.a)({appContainer:{fontFamily:"sans-serif",width:"100%",height:"100vh",boxSizing:"border-box"}})((function(e){var t=e.classes;return r.a.createElement(l.a,{theme:je},r.a.createElement(m.a,null,r.a.createElement("div",{className:t.appContainer},r.a.createElement(xe,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:q},r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[125,1,2]]]);
//# sourceMappingURL=main.43ce1cbf.chunk.js.map